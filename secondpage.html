<!DOCTYPE html>
<html lang="en">
<head>
    <script type="module">
        import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";

        window.onload = async function() {
            // todo: add try catch block
            const response = await fetch('./images/testImage.jpg');
            const blob = await response.blob();
            
            console.log('Blob:', blob);

            // Example of using this blob (e.g., creating a URL for an <img> src)
            const imgURL = URL.createObjectURL(blob);
            const img = new Image();
            img.src = imgURL;
            document.body.appendChild(img);

            // Don't forget to revoke the object URL when you're done with it to avoid memory leaks
            img.onload = () => URL.revokeObjectURL(imgURL);


            const client = await Client.connect("danielleonte/kekius420");
            const result = await client.predict("/predict", { img: blob });
            console.log(result)
        };
    </script>
</head>
</html>